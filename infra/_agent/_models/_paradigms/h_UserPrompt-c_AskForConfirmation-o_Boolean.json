{
  "env_spec": {
    "tools": [
      {
        "tool_name": "composition_tool",
        "affordances": [
          {
            "affordance_name": "compose",
            "call_code": "result = tool.compose(plan=params['plan'], return_key=params.get('return_key'))"
          }
        ]
      },
      {
        "tool_name": "formatter_tool",
        "affordances": [
          {
            "affordance_name": "get",
            "call_code": "result = tool.get"
          }
        ]
      },
      {
        "tool_name": "user_input",
        "affordances": [
          {
            "affordance_name": "create_interaction",
            "call_code": "result = tool.create_interaction(**params)"
          }
        ]
      }
    ]
  },
  "sequence_spec": {
    "steps": [
      {
        "step_index": 1,
        "affordance": "formatter_tool.get",
        "params": {},
        "result_key": "dict_get_fn"
      },
      {
        "step_index": 2,
        "affordance": "user_input.create_interaction",
        "params": {
          "interaction_type": "confirm",
          "default": true
        },
        "result_key": "user_confirm_fn"
      },
      {
        "step_index": 3,
        "affordance": "composition_tool.compose",
        "params": {
          "plan": [
            {
              "output_key": "prompt_from_vars",
              "function": {
                "__type__": "MetaValue",
                "key": "dict_get_fn"
              },
              "params": {
                "dictionary": "__initial_input__"
              },
              "literal_params": {
                "key": "input_1"
              }
            },
            {
              "output_key": "user_confirmation",
              "function": {
                "__type__": "MetaValue",
                "key": "user_confirm_fn"
              },
              "params": {
                "prompt_text": "prompt_from_vars"
              }
            }
          ],
          "return_key": "user_confirmation"
        },
        "result_key": "instruction_fn"
      }
    ]
  }
}
