[
  {
    "concept_to_infer": {
      "flow_index": "1",
      "type": "main",
      "depth": 0,
      "nc_main": ":<:{ncds}",
      "inference_marker": ":<:",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "ncds",
      "attached_comments": [
        {
          "flow_index": "1",
          "type": "comment",
          "depth": 1,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1",
          "type": "comment",
          "depth": 1,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1",
          "type": "comment",
          "depth": 1,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.1",
      "type": "main",
      "depth": 1,
      "nc_main": "<= ::(return ncds output written)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "return ncds output written",
      "attached_comments": [
        {
          "flow_index": "1.1",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Literal"
        },
        {
          "flow_index": "1.1",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.1",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/pass_through.py"
        },
        {
          "flow_index": "1.1",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{v_function_name}: pass_through"
        },
        {
          "flow_index": "1.1",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.1",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.1",
          "type": "comment",
          "depth": 1,
          "nc_comment": "/: ROOT: Return the final ncds result"
        },
        {
          "flow_index": "1.1",
          "type": "comment",
          "depth": 1,
          "nc_comment": "/: The real work happens in the dependency tree below"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.2",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {ncds output written}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "ncds output written",
        "attached_comments": [
          {
            "flow_index": "1.2",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.2",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: GROUND CONCEPTS (External Inputs)"
          },
          {
            "flow_index": "1.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: These are file paths provided externally - the \"leaves\" of our tree"
          }
        ]
      },
      {
        "flow_index": "1.3",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {instruction file path}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "instruction file path",
        "attached_comments": [
          {
            "flow_index": "1.3",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.3",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.3",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.3",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{literal<$% file_path>}: (runtime provided)"
          },
          {
            "flow_index": "1.3",
            "type": "comment",
            "depth": 2,
            "nc_comment": "/: Ground: Where to read the natural language instruction from"
          }
        ]
      },
      {
        "flow_index": "1.4",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {refinement questions file path}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refinement questions file path",
        "attached_comments": [
          {
            "flow_index": "1.4",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.4",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.4",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.4",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{literal<$% file_path>}: provisions/data/refinement_questions.txt"
          },
          {
            "flow_index": "1.4",
            "type": "comment",
            "depth": 2,
            "nc_comment": "/: Ground: 7 questions to clarify vague instructions (from derivation_v2.md)"
          }
        ]
      },
      {
        "flow_index": "1.5",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {progress file path}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.5",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.5",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.5",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.5",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{literal<$% file_path>}: (runtime provided)"
          },
          {
            "flow_index": "1.5",
            "type": "comment",
            "depth": 2,
            "nc_comment": "/: Ground: Tracks which phases completed (enables resume)"
          }
        ]
      },
      {
        "flow_index": "1.6",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {refined instruction file path}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction file path",
        "attached_comments": [
          {
            "flow_index": "1.6",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.6",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.6",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.6",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{literal<$% file_path>}: (runtime provided)"
          },
          {
            "flow_index": "1.6",
            "type": "comment",
            "depth": 2,
            "nc_comment": "/: Ground: Phase 1 checkpoint - stores refined/original instruction"
          }
        ]
      },
      {
        "flow_index": "1.7",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {extraction file path}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction file path",
        "attached_comments": [
          {
            "flow_index": "1.7",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.7",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.7",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.7",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{literal<$% file_path>}: (runtime provided)"
          },
          {
            "flow_index": "1.7",
            "type": "comment",
            "depth": 2,
            "nc_comment": "/: Ground: Phase 2 checkpoint - stores extracted concepts/operations/deps"
          }
        ]
      },
      {
        "flow_index": "1.8",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {classifications file path}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications file path",
        "attached_comments": [
          {
            "flow_index": "1.8",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.8",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.8",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.8",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{literal<$% file_path>}: (runtime provided)"
          },
          {
            "flow_index": "1.8",
            "type": "comment",
            "depth": 2,
            "nc_comment": "/: Ground: Phase 3 checkpoint - stores pattern types per operation"
          }
        ]
      },
      {
        "flow_index": "1.9",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {tree file path}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "tree file path",
        "attached_comments": [
          {
            "flow_index": "1.9",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.9",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.9",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.9",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{literal<$% file_path>}: (runtime provided)"
          },
          {
            "flow_index": "1.9",
            "type": "comment",
            "depth": 2,
            "nc_comment": "/: Ground: Phase 4 checkpoint - stores the dependency tree structure"
          }
        ]
      },
      {
        "flow_index": "1.10",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {output file path}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "output file path",
        "attached_comments": [
          {
            "flow_index": "1.10",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.10",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.10",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.10",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{literal<$% file_path>}: (runtime provided)"
          },
          {
            "flow_index": "1.10",
            "type": "comment",
            "depth": 2,
            "nc_comment": "/: Ground: Final output - the .ncds file we're creating"
          },
          {
            "flow_index": "1.10",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.10",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PHASE 0: READ RAW INPUT"
          },
          {
            "flow_index": "1.10",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          }
        ]
      },
      {
        "flow_index": "1.11",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {raw instruction content}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "raw instruction content",
        "attached_comments": [
          {
            "flow_index": "1.11",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.11",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.11",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.12",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {refined instruction file written}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction file written",
        "attached_comments": [
          {
            "flow_index": "1.12",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.13",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {phase 1 complete}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase 1 complete",
        "attached_comments": [
          {
            "flow_index": "1.13",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.13",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.13",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.14",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {extraction file written}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction file written",
        "attached_comments": [
          {
            "flow_index": "1.14",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.14",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.15",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {phase 2 complete}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase 2 complete",
        "attached_comments": [
          {
            "flow_index": "1.15",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.15",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.15",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.16",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {classifications file written}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications file written",
        "attached_comments": [
          {
            "flow_index": "1.16",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.16",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.17",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {phase 3 complete}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase 3 complete",
        "attached_comments": [
          {
            "flow_index": "1.17",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.17",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.17",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.18",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {tree file written}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "tree file written",
        "attached_comments": [
          {
            "flow_index": "1.18",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.19",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {phase 4 complete}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase 4 complete",
        "attached_comments": [
          {
            "flow_index": "1.19",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.19",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.19",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.20",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {ncds output written}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "ncds output written",
        "attached_comments": [
          {
            "flow_index": "1.20",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.20",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.21",
        "type": "main",
        "depth": 1,
        "nc_main": "<- {phase 5 complete}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase 5 complete",
        "attached_comments": [
          {
            "flow_index": "1.21",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.21",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.21",
            "type": "comment",
            "depth": 2,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.11",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {raw instruction content}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "raw instruction content",
      "attached_comments": [
        {
          "flow_index": "1.11",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.11",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.11",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.11.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(read instruction from input file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read instruction from input file",
      "attached_comments": [
        {
          "flow_index": "1.11.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.11.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.11.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.11.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: FILE I/O: Load the natural language instruction"
        },
        {
          "flow_index": "1.11.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: This is the starting point - what the user wants to derive"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.11.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {instruction file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "instruction file path",
        "attached_comments": [
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PHASE 1: REFINEMENT"
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PURPOSE: Ensure instruction is concrete enough for extraction"
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: Per derivation.md: \"Natural language is ambiguous and unstructured\""
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: Vague instructions like \"analyze the data\" can't be derived properly."
          },
          {
            "flow_index": "1.11.2",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: We either clarify them OR pass through if already concrete."
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {refined instruction file written}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "refined instruction file written",
      "attached_comments": [
        {
          "flow_index": "1.12",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write refined instruction to checkpoint file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write refined instruction to checkpoint file",
      "attached_comments": [
        {
          "flow_index": "1.12.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.12.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.12.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.12.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: FILE I/O: Save refined instruction for Phase 2 to read"
        },
        {
          "flow_index": "1.12.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: Checkpoint enables resume - if we crash after this, Phase 2 can still run"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {refined instruction file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction file path",
        "attached_comments": [
          {
            "flow_index": "1.12.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.12.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {instruction to be written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "instruction to be written",
        "attached_comments": [
          {
            "flow_index": "1.12.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3",
      "type": "main",
      "depth": 2,
      "nc_main": "<- {instruction to be written}<:{2}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "instruction to be written",
      "attached_comments": [
        {
          "flow_index": "1.12.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.1",
      "type": "main",
      "depth": 3,
      "nc_main": "<= $. %>({instruction to be written})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.1",
          "type": "comment",
          "depth": 4,
          "nc_comment": "/: SELECTION: Pick cache if available, else compute fresh"
        },
        {
          "flow_index": "1.12.3.1",
          "type": "comment",
          "depth": 4,
          "nc_comment": "/: Pattern: [check, cache_if_done, compute_if_not_done]"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.2",
        "type": "main",
        "depth": 3,
        "nc_main": "<- <phase 1 already complete>",
        "inference_marker": "<-",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 1 already complete",
        "attached_comments": [
          {
            "flow_index": "1.12.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: %{truth_value}"
          }
        ]
      },
      {
        "flow_index": "1.12.3.3",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {cached refined instruction}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "cached refined instruction",
        "attached_comments": [
          {
            "flow_index": "1.12.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.12.3.4",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {freshly refined instruction}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "freshly refined instruction",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.2",
      "type": "main",
      "depth": 3,
      "nc_main": "<- <phase 1 already complete>",
      "inference_marker": "<-",
      "concept_type": "proposition",
      "operator_type": null,
      "concept_name": "phase 1 already complete",
      "attached_comments": [
        {
          "flow_index": "1.12.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: %{truth_value}"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.2.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::<{check if phase 1 already complete in progress}><ALL True>",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Boolean"
        },
        {
          "flow_index": "1.12.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.12.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/check_phase_complete.py"
        },
        {
          "flow_index": "1.12.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_function_name}: check_phase_complete"
        },
        {
          "flow_index": "1.12.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.12.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.12.3.2.1",
          "type": "comment",
          "depth": 4,
          "nc_comment": "/: RESUME CHECK: Did we already finish Phase 1 in a previous run?"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.2.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {current progress}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "current progress",
        "attached_comments": [
          {
            "flow_index": "1.12.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.12.3.2.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {phase_name: \"phase_1\"}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase_name: \"phase_1\"",
        "attached_comments": [
          {
            "flow_index": "1.12.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.12.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{literal<$% phase_name>}: phase_1"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.2.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {current progress}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "current progress",
      "attached_comments": [
        {
          "flow_index": "1.12.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.2.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read progress from file if exists)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read progress from file if exists",
      "attached_comments": [
        {
          "flow_index": "1.12.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFileIfExists-o_Literal"
        },
        {
          "flow_index": "1.12.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.12.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.12.3.2.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: FILE I/O: Load progress tracker (may be empty/missing on first run)"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.2.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.12.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.3",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {cached refined instruction}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "cached refined instruction",
      "attached_comments": [
        {
          "flow_index": "1.12.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read refined instruction from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read refined instruction from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH: If Phase 1 done, just load the saved result"
        },
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: Saves LLM calls on resume"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.3.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {refined instruction file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction file path",
        "attached_comments": [
          {
            "flow_index": "1.12.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read refined instruction from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read refined instruction from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH: If Phase 1 done, just load the saved result"
        },
        {
          "flow_index": "1.12.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: Saves LLM calls on resume"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.3.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:'(<phase 1 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.3.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase already complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.12.3.3.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 1 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 1 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {freshly refined instruction}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "freshly refined instruction",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= $. %>({freshly refined instruction})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: COMPUTATION PATH: Select refined or original based on vagueness"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.4.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- <instruction is vague>",
        "inference_marker": "<-",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "instruction is vague",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: %{truth_value}"
          }
        ]
      },
      {
        "flow_index": "1.12.3.4.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {original version}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "original version",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.12.3.4.4",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {refined version}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined version",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= $. %>({freshly refined instruction})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: COMPUTATION PATH: Select refined or original based on vagueness"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:!(<phase 1 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase NOT complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.12.3.4.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 1 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 1 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- <instruction is vague>",
      "inference_marker": "<-",
      "concept_type": "proposition",
      "operator_type": null,
      "concept_name": "instruction is vague",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: %{truth_value}"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::<{judge if instruction lacks concrete details}><ALL True>",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Boolean"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_1/judge_instruction_vagueness.md"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LLM JUDGEMENT: Is this instruction too vague to derive?"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#before-derivation-instruction-refinement\","
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#the-derivation-problem\""
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: CONTEXT NEEDED: What makes an instruction \"vague\" vs \"concrete\"?"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Vague: implicit loops, unnamed data, unclear conditions"
        },
        {
          "flow_index": "1.12.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Concrete: explicit loops, named entities, concrete operations"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.4.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {raw instruction content}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "raw instruction content",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4.3",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {original version}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "original version",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.3.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(pass through raw instruction)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "pass through raw instruction",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Literal"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/pass_through.py"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_function_name}: pass_through"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: PASSTHROUGH: If instruction is already concrete, use as-is"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.4.3.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {raw instruction content}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "raw instruction content",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.3.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4.3.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4.3.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(pass through raw instruction)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "pass through raw instruction",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Literal"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/pass_through.py"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_function_name}: pass_through"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.12.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: PASSTHROUGH: If instruction is already concrete, use as-is"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.3.1.1",
      "type": "main",
      "depth": 6,
      "nc_main": "<= @:!(<instruction is vague>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.3.1.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: TIMING GATE: Only if instruction is NOT vague"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.12.3.4.3.1.2",
        "type": "main",
        "depth": 6,
        "nc_main": "<* <instruction is vague>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "instruction is vague",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4.4",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {refined version}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "refined version",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.4.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(synthesize from refinement answers)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "synthesize from refinement answers",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_1/synthesize_refined_instruction.md"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LLM SYNTHESIS: Combine Q&A answers into a concrete instruction"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#the-refinement-process\","
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#rules-of-thumb-for-paraphrasing\""
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: CONTEXT NEEDED: How to synthesize a refined instruction"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Make implicit loops explicit"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Name all data entities"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Make conditions concrete"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Decompose compound operations"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.4.4.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {refinement answers}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refinement answers",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.4.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [question]"
          },
          {
            "flow_index": "1.12.3.4.4.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_shape}: (n_question,)"
          },
          {
            "flow_index": "1.12.3.4.4.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: dict(question: str, answer: str)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4.4.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(synthesize from refinement answers)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "synthesize from refinement answers",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_1/synthesize_refined_instruction.md"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LLM SYNTHESIS: Combine Q&A answers into a concrete instruction"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#the-refinement-process\","
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#rules-of-thumb-for-paraphrasing\""
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: CONTEXT NEEDED: How to synthesize a refined instruction"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Make implicit loops explicit"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Name all data entities"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Make conditions concrete"
        },
        {
          "flow_index": "1.12.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Decompose compound operations"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.4.1.1",
      "type": "main",
      "depth": 6,
      "nc_main": "<= @:'(<instruction is vague>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.4.1.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: TIMING GATE: Only if instruction IS vague"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.12.3.4.4.1.2",
        "type": "main",
        "depth": 6,
        "nc_main": "<* <instruction is vague>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "instruction is vague",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4.4.2",
      "type": "main",
      "depth": 5,
      "nc_main": "<- {refinement answers}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "refinement answers",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.4.2",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{ref_axes}: [question]"
        },
        {
          "flow_index": "1.12.3.4.4.2",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{ref_shape}: (n_question,)"
        },
        {
          "flow_index": "1.12.3.4.4.2",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{ref_element}: dict(question: str, answer: str)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.4.2.1",
      "type": "main",
      "depth": 6,
      "nc_main": "<= ::(apply each refinement question)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "apply each refinement question",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_1/apply_refinement_questions.md"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: LLM ITERATION: Ask each of 7 questions about the instruction"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#the-refinement-questions\""
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: CONTEXT NEEDED: The 7 refinement questions"
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   1. \"What's the final output?\""
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   2. \"What data exists at the start?\""
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   3. \"Does this repeat?\""
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   4. \"What triggers each step?\""
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   5. \"When does it end?\""
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   6. \"What conditions affect behavior?\""
        },
        {
          "flow_index": "1.12.3.4.4.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   7. \"What's one atomic step?\""
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.4.4.2.2",
        "type": "main",
        "depth": 6,
        "nc_main": "<- {raw instruction content}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "raw instruction content",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.4.2.2",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4.4.2.2",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.12.3.4.4.2.3",
        "type": "main",
        "depth": 6,
        "nc_main": "<- {refinement questions content}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refinement questions content",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.4.2.3",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4.4.2.3",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.12.3.4.4.2.3",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.12.3.4.4.2.3",
      "type": "main",
      "depth": 6,
      "nc_main": "<- {refinement questions content}<:{2}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "refinement questions content",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.4.2.3",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.12.3.4.4.2.3",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.12.3.4.4.2.3",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.12.3.4.4.2.3.1",
      "type": "main",
      "depth": 7,
      "nc_main": "<= ::(read refinement questions from file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read refinement questions from file",
      "attached_comments": [
        {
          "flow_index": "1.12.3.4.4.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.12.3.4.4.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.12.3.4.4.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.12.3.4.4.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "/: FILE I/O: Load the 7 standard refinement questions"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.12.3.4.4.2.3.2",
        "type": "main",
        "depth": 7,
        "nc_main": "<- {refinement questions file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refinement questions file path",
        "attached_comments": [
          {
            "flow_index": "1.12.3.4.4.2.3.2",
            "type": "comment",
            "depth": 8,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.12.3.4.4.2.3.2",
            "type": "comment",
            "depth": 8,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.13",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {phase 1 complete}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "phase 1 complete",
      "attached_comments": [
        {
          "flow_index": "1.13",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.13",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.13",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.13.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write phase 1 status to progress file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write phase 1 status to progress file",
      "attached_comments": [
        {
          "flow_index": "1.13.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.13.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.13.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.13.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{write_mode}: append"
        },
        {
          "flow_index": "1.13.1",
          "type": "comment",
          "depth": 2,
          "nc_comment": "/: CHECKPOINT: Mark Phase 1 done in progress tracker"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.13.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.13.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.13.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.13.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {refined instruction file written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction file written",
        "attached_comments": [
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PHASE 2: EXTRACTION"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PURPOSE: Decompose instruction into raw materials for tree building"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: Per derivation.md Step 1-3:"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Identify Concepts: \"Extract all data entities mentioned\""
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Identify Operations: \"Extract all actions/operations mentioned\""
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Determine Dependencies: \"Figure out which concepts feed into which operations\""
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.13.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: This is the CORE of derivation - understanding WHAT is in the instruction"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {extraction file written}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "extraction file written",
      "attached_comments": [
        {
          "flow_index": "1.14",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.14",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.14",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write extraction results to checkpoint file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write extraction results to checkpoint file",
      "attached_comments": [
        {
          "flow_index": "1.14.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.14.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.14.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.14.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{serialize}: json"
        },
        {
          "flow_index": "1.14.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: FILE I/O: Save extractions for Phase 3 and 4 to read"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {extraction file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction file path",
        "attached_comments": [
          {
            "flow_index": "1.14.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.14.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {extraction to be written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction to be written",
        "attached_comments": [
          {
            "flow_index": "1.14.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.14.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: dict(concepts: list, operations: list, dependencies: dict, control_patterns: dict)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3",
      "type": "main",
      "depth": 2,
      "nc_main": "<- {extraction to be written}<:{2}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "extraction to be written",
      "attached_comments": [
        {
          "flow_index": "1.14.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.14.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.14.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_element}: dict(concepts: list, operations: list, dependencies: dict, control_patterns: dict)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.1",
      "type": "main",
      "depth": 3,
      "nc_main": "<= $. %>({extraction to be written})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.14.3.1",
          "type": "comment",
          "depth": 4,
          "nc_comment": "/: SELECTION: Cache or compute pattern (same as Phase 1)"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.2",
        "type": "main",
        "depth": 3,
        "nc_main": "<- <phase 2 already complete>",
        "inference_marker": "<-",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 2 already complete",
        "attached_comments": [
          {
            "flow_index": "1.14.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.14.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: %{truth_value}"
          }
        ]
      },
      {
        "flow_index": "1.14.3.3",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {cached extraction data}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "cached extraction data",
        "attached_comments": [
          {
            "flow_index": "1.14.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.14.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: dict(concepts: list, operations: list, dependencies: dict, control_patterns: dict)"
          }
        ]
      },
      {
        "flow_index": "1.14.3.4",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {freshly extracted data}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "freshly extracted data",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.14.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: dict(concepts: list, operations: list, dependencies: dict, control_patterns: dict)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.2",
      "type": "main",
      "depth": 3,
      "nc_main": "<- <phase 2 already complete>",
      "inference_marker": "<-",
      "concept_type": "proposition",
      "operator_type": null,
      "concept_name": "phase 2 already complete",
      "attached_comments": [
        {
          "flow_index": "1.14.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.14.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.14.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: %{truth_value}"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.2.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::<{check if phase 2 already complete in progress}><ALL True>",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.14.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Boolean"
        },
        {
          "flow_index": "1.14.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.14.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/check_phase_complete.py"
        },
        {
          "flow_index": "1.14.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_function_name}: check_phase_complete"
        },
        {
          "flow_index": "1.14.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.14.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.14.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: RESUME CHECK"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.2.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {current progress}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "current progress",
        "attached_comments": [
          {
            "flow_index": "1.14.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.14.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.14.3.2.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {phase_name: \"phase_2\"}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase_name: \"phase_2\"",
        "attached_comments": [
          {
            "flow_index": "1.14.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.14.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{literal<$% phase_name>}: phase_2"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.2.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {current progress}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "current progress",
      "attached_comments": [
        {
          "flow_index": "1.14.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.14.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.14.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.2.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read progress from file if exists)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read progress from file if exists",
      "attached_comments": [
        {
          "flow_index": "1.14.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFileIfExists-o_Literal"
        },
        {
          "flow_index": "1.14.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.14.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.2.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.14.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.3",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {cached extraction data}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "cached extraction data",
      "attached_comments": [
        {
          "flow_index": "1.14.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.14.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.14.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: dict(concepts: list, operations: list, dependencies: dict, control_patterns: dict)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read extraction from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read extraction from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.3.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {extraction file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction file path",
        "attached_comments": [
          {
            "flow_index": "1.14.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read extraction from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read extraction from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.14.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.3.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:'(<phase 2 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.14.3.3.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase already complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.14.3.3.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 2 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 2 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.4",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {freshly extracted data}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "freshly extracted data",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.14.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.14.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: dict(concepts: list, operations: list, dependencies: dict, control_patterns: dict)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= &[{}] %>[{extracted concepts}, [extracted operations], [extracted dependencies], [extracted control patterns]] %+(extraction)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "grouping",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: GROUPING: Bundle all 4 extraction results into one structured object"
        },
        {
          "flow_index": "1.14.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: Output: {concepts: [...], operations: [...], dependencies: [...], patterns: [...]}"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.4.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {refined instruction content}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction content",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.14.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.14.3.4.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {extracted concepts}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extracted concepts",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [concept]"
          },
          {
            "flow_index": "1.14.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (n_concept,)"
          },
          {
            "flow_index": "1.14.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.14.3.4.4",
        "type": "main",
        "depth": 4,
        "nc_main": "<- [extracted operations]",
        "inference_marker": "<-",
        "concept_type": "relation",
        "operator_type": null,
        "concept_name": "extracted operations",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [operation]"
          },
          {
            "flow_index": "1.14.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (n_operation,)"
          },
          {
            "flow_index": "1.14.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.14.3.4.5",
        "type": "main",
        "depth": 4,
        "nc_main": "<- [extracted dependencies]",
        "inference_marker": "<-",
        "concept_type": "relation",
        "operator_type": null,
        "concept_name": "extracted dependencies",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.5",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [dependency]"
          },
          {
            "flow_index": "1.14.3.4.5",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (n_dependency,)"
          },
          {
            "flow_index": "1.14.3.4.5",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: dict(source: str, target: str)"
          }
        ]
      },
      {
        "flow_index": "1.14.3.4.6",
        "type": "main",
        "depth": 4,
        "nc_main": "<- [extracted control patterns]",
        "inference_marker": "<-",
        "concept_type": "relation",
        "operator_type": null,
        "concept_name": "extracted control patterns",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.6",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [pattern]"
          },
          {
            "flow_index": "1.14.3.4.6",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (n_pattern,)"
          },
          {
            "flow_index": "1.14.3.4.6",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: dict(type: str, context: str)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= &[{}] %>[{extracted concepts}, [extracted operations], [extracted dependencies], [extracted control patterns]] %+(extraction)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "grouping",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: GROUPING: Bundle all 4 extraction results into one structured object"
        },
        {
          "flow_index": "1.14.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: Output: {concepts: [...], operations: [...], dependencies: [...], patterns: [...]}"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.4.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:!(<phase 2 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase NOT complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.14.3.4.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 2 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 2 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.4.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {refined instruction content}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "refined instruction content",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.14.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.14.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.4.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read refined instruction file from path)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read refined instruction file from path",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.14.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.14.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.14.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: FILE I/O: Load Phase 1 output (the concrete instruction)"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.4.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {refined instruction file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction file path",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.4.3",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {extracted concepts}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "extracted concepts",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [concept]"
        },
        {
          "flow_index": "1.14.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (n_concept,)"
        },
        {
          "flow_index": "1.14.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.4.3.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(identify all nouns and data entities)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "identify all nouns and data entities",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_2/extract_concepts.md"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LLM EXTRACTION: Find all DATA mentioned in instruction"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#step-1-identify-concepts\","
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/2_grammar/semantic_concepts.md#object\","
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/2_grammar/semantic_concepts.md#relation\""
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: CONTEXT NEEDED: What counts as a concept?"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Object {}: Nouns, singular entities (\"the sum\", \"user input\")"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Relation []: Plurals, collections (\"the files\", \"all numbers\")"
        },
        {
          "flow_index": "1.14.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Look for: \"the X\", \"a Y\", \"all Z\", input/output mentions"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.4.3.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {refined instruction content}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction content",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.3.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.4.3.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.4.4",
      "type": "main",
      "depth": 4,
      "nc_main": "<- [extracted operations]",
      "inference_marker": "<-",
      "concept_type": "relation",
      "operator_type": null,
      "concept_name": "extracted operations",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [operation]"
        },
        {
          "flow_index": "1.14.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (n_operation,)"
        },
        {
          "flow_index": "1.14.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.4.4.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(identify all verbs and actions)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "identify all verbs and actions",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_2/extract_operations.md"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LLM EXTRACTION: Find all ACTIONS mentioned in instruction"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#step-2-identify-operations\","
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/2_grammar/semantic_concepts.md#imperative\","
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/2_grammar/semantic_concepts.md#judgement\""
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: CONTEXT NEEDED: What counts as an operation?"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Imperative ({}): Active verbs (\"calculate\", \"extract\", \"generate\")"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Judgement <{}>: Questions, checks (\"is X valid?\", \"check if Y\")"
        },
        {
          "flow_index": "1.14.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Look for: action phrases, imperatives, \"do X\", \"compute Y\""
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.4.4.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {refined instruction content}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction content",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.4.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.4.4.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.4.5",
      "type": "main",
      "depth": 4,
      "nc_main": "<- [extracted dependencies]",
      "inference_marker": "<-",
      "concept_type": "relation",
      "operator_type": null,
      "concept_name": "extracted dependencies",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.5",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [dependency]"
        },
        {
          "flow_index": "1.14.3.4.5",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (n_dependency,)"
        },
        {
          "flow_index": "1.14.3.4.5",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: dict(source: str, target: str)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.4.5.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(identify what needs what)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "identify what needs what",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_2/extract_dependencies.md"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LLM EXTRACTION: Find DATA FLOW between concepts/operations"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#step-3-determine-dependencies\","
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#the-derivation-question\""
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: CONTEXT NEEDED: How to identify dependencies?"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Temporal order: \"after X, do Y\"  X before Y"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Data flow: \"analyze the cleaned data\"  clean first"
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Keywords: \"using\", \"from\", \"based on\", \"with\", \"given\""
        },
        {
          "flow_index": "1.14.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Ask: \"What do I need to produce this?\""
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.4.5.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {refined instruction content}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction content",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.5.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.4.5.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.14.3.4.5.3",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {extracted concepts}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extracted concepts",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.5.3",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [concept]"
          },
          {
            "flow_index": "1.14.3.4.5.3",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.14.3.4.5.4",
        "type": "main",
        "depth": 5,
        "nc_main": "<- [extracted operations]<:{3}>",
        "inference_marker": "<-",
        "concept_type": "relation",
        "operator_type": null,
        "concept_name": "extracted operations",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.5.4",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [operation]"
          },
          {
            "flow_index": "1.14.3.4.5.4",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.14.3.4.6",
      "type": "main",
      "depth": 4,
      "nc_main": "<- [extracted control patterns]",
      "inference_marker": "<-",
      "concept_type": "relation",
      "operator_type": null,
      "concept_name": "extracted control patterns",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.6",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [pattern]"
        },
        {
          "flow_index": "1.14.3.4.6",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (n_pattern,)"
        },
        {
          "flow_index": "1.14.3.4.6",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: dict(type: str, context: str)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.14.3.4.6.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(identify loops and conditions)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "identify loops and conditions",
      "attached_comments": [
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_2/extract_control_patterns.md"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LLM EXTRACTION: Find CONTROL STRUCTURES"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#the-five-core-patterns\","
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/README.md#loop-patterns\","
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/README.md#control-flow-patterns\""
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: CONTEXT NEEDED: What control patterns to look for?"
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Iteration: \"for each X\", \"process all Y\""
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Conditional: \"if X then Y\", \"when Z\""
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Self-seeding loop: \"keep going until\", \"continuously\""
        },
        {
          "flow_index": "1.14.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Conditional append: \"add if valid\", \"collect matching\""
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.14.3.4.6.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {refined instruction content}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "refined instruction content",
        "attached_comments": [
          {
            "flow_index": "1.14.3.4.6.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.14.3.4.6.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.15",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {phase 2 complete}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "phase 2 complete",
      "attached_comments": [
        {
          "flow_index": "1.15",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.15",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.15",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.15.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write phase 2 status to progress file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write phase 2 status to progress file",
      "attached_comments": [
        {
          "flow_index": "1.15.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.15.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.15.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.15.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{write_mode}: append"
        },
        {
          "flow_index": "1.15.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: CHECKPOINT: Mark Phase 2 done"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.15.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.15.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.15.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.15.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {extraction file written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction file written",
        "attached_comments": [
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PHASE 3: CLASSIFICATION"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PURPOSE: Label each operation with its NormCode pattern type"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: Per derivation.md takeaways, patterns include:"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Linear chain: A  B  C"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Multiple inputs: combine(A, B)  C"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Iteration: for each X in collection"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Conditional: if condition then A else B"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Grouping: bundle {A, B, C} together"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.15.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: This PREPARES for tree construction by labeling HOW each operation behaves"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {classifications file written}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "classifications file written",
      "attached_comments": [
        {
          "flow_index": "1.16",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.16",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.16",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write classifications to checkpoint file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write classifications to checkpoint file",
      "attached_comments": [
        {
          "flow_index": "1.16.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.16.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.16.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.16.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{serialize}: json"
        },
        {
          "flow_index": "1.16.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: FILE I/O: Save classifications for Phase 4"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {classifications file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications file path",
        "attached_comments": [
          {
            "flow_index": "1.16.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.16.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {classifications to be written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications to be written",
        "attached_comments": [
          {
            "flow_index": "1.16.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [operation]"
          },
          {
            "flow_index": "1.16.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_shape}: (n_operation,)"
          },
          {
            "flow_index": "1.16.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: dict(pattern: str, context: str)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3",
      "type": "main",
      "depth": 2,
      "nc_main": "<- {classifications to be written}<:{2}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "classifications to be written",
      "attached_comments": [
        {
          "flow_index": "1.16.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_axes}: [operation]"
        },
        {
          "flow_index": "1.16.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_shape}: (n_operation,)"
        },
        {
          "flow_index": "1.16.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_element}: dict(pattern: str, context: str)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.1",
      "type": "main",
      "depth": 3,
      "nc_main": "<= $. %>({classifications to be written})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.16.3.1",
          "type": "comment",
          "depth": 4,
          "nc_comment": "/: SELECTION: Cache or compute pattern"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.2",
        "type": "main",
        "depth": 3,
        "nc_main": "<- <phase 3 already complete>",
        "inference_marker": "<-",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 3 already complete",
        "attached_comments": [
          {
            "flow_index": "1.16.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.16.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: %{truth_value}"
          }
        ]
      },
      {
        "flow_index": "1.16.3.3",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {cached classifications}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "cached classifications",
        "attached_comments": [
          {
            "flow_index": "1.16.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [operation]"
          },
          {
            "flow_index": "1.16.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (n_operation,)"
          },
          {
            "flow_index": "1.16.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: dict(pattern: str, context: str)"
          }
        ]
      },
      {
        "flow_index": "1.16.3.4",
        "type": "main",
        "depth": 3,
        "nc_main": "<- [freshly classified operations]",
        "inference_marker": "<-",
        "concept_type": "relation",
        "operator_type": null,
        "concept_name": "freshly classified operations",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [operation]"
          },
          {
            "flow_index": "1.16.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (n_operation,)"
          },
          {
            "flow_index": "1.16.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: dict(pattern: str, context: str)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.2",
      "type": "main",
      "depth": 3,
      "nc_main": "<- <phase 3 already complete>",
      "inference_marker": "<-",
      "concept_type": "proposition",
      "operator_type": null,
      "concept_name": "phase 3 already complete",
      "attached_comments": [
        {
          "flow_index": "1.16.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.16.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.16.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: %{truth_value}"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.2.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::<{check if phase 3 already complete in progress}><ALL True>",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.16.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Boolean"
        },
        {
          "flow_index": "1.16.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.16.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/check_phase_complete.py"
        },
        {
          "flow_index": "1.16.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_function_name}: check_phase_complete"
        },
        {
          "flow_index": "1.16.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.16.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.16.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: RESUME CHECK"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.2.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {current progress}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "current progress",
        "attached_comments": [
          {
            "flow_index": "1.16.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.16.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.16.3.2.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {phase_name: \"phase_3\"}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase_name: \"phase_3\"",
        "attached_comments": [
          {
            "flow_index": "1.16.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.16.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{literal<$% phase_name>}: phase_3"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.2.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {current progress}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "current progress",
      "attached_comments": [
        {
          "flow_index": "1.16.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.16.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.16.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.2.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read progress from file if exists)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read progress from file if exists",
      "attached_comments": [
        {
          "flow_index": "1.16.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFileIfExists-o_Literal"
        },
        {
          "flow_index": "1.16.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.16.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.2.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.16.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.3",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {cached classifications}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "cached classifications",
      "attached_comments": [
        {
          "flow_index": "1.16.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [operation]"
        },
        {
          "flow_index": "1.16.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (n_operation,)"
        },
        {
          "flow_index": "1.16.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: dict(pattern: str, context: str)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read classifications from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read classifications from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.3.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {classifications file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications file path",
        "attached_comments": [
          {
            "flow_index": "1.16.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read classifications from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read classifications from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.16.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.3.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:'(<phase 3 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.16.3.3.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase already complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.16.3.3.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 3 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 3 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.4",
      "type": "main",
      "depth": 3,
      "nc_main": "<- [freshly classified operations]",
      "inference_marker": "<-",
      "concept_type": "relation",
      "operator_type": null,
      "concept_name": "freshly classified operations",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [operation]"
        },
        {
          "flow_index": "1.16.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (n_operation,)"
        },
        {
          "flow_index": "1.16.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: dict(pattern: str, context: str)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= *. %>([extracted operations]) %<({classification}) %:({operation}) %@(1)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "looping",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: ITERATION: For each operation, produce a classification"
        },
        {
          "flow_index": "1.16.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: %<() = output type, %:() = element name, %@() = axis index"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.4.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- [extracted operations]",
        "inference_marker": "<-",
        "concept_type": "relation",
        "operator_type": null,
        "concept_name": "extracted operations",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [operation]"
          },
          {
            "flow_index": "1.16.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (n_operation,)"
          },
          {
            "flow_index": "1.16.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": [
      {
        "flow_index": "1.16.3.4.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<* {current operation}<$([extracted operations])*>",
        "inference_marker": "<*",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "current operation",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.16.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "/: LOOP CONTEXT: The current operation being classified"
          }
        ]
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= *. %>([extracted operations]) %<({classification}) %:({operation}) %@(1)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "looping",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: ITERATION: For each operation, produce a classification"
        },
        {
          "flow_index": "1.16.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: %<() = output type, %:() = element name, %@() = axis index"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.4.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= $. %>({classification})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LOOP BODY: Return the classification for this operation"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.4.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {classification}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classification",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.1.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.1.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.16.3.4.1.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: dict(pattern: str, context: str)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.4.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= $. %>({classification})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LOOP BODY: Return the classification for this operation"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.4.1.1.1",
      "type": "main",
      "depth": 6,
      "nc_main": "<= @:!(<phase 3 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1.1.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: TIMING GATE: Only execute if phase NOT complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.16.3.4.1.1.2",
        "type": "main",
        "depth": 6,
        "nc_main": "<* <phase 3 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 3 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.4.1.2",
      "type": "main",
      "depth": 5,
      "nc_main": "<- {classification}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "classification",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1.2",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.16.3.4.1.2",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.16.3.4.1.2",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{ref_element}: dict(pattern: str, context: str)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.4.1.2.1",
      "type": "main",
      "depth": 6,
      "nc_main": "<= ::(determine pattern type for operation)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "determine pattern type for operation",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_3/classify_operation.md"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: LLM CLASSIFICATION: What pattern does this operation match?"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#the-five-core-patterns\","
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/README.md#pattern-reference\","
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#derivation-takeaways-lessons-from-examples\""
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: CONTEXT NEEDED: The 5 core patterns"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   1. Linear chain: \"Transform A into B\"  single input, single output"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   2. Multiple inputs: \"Combine A and B\"  sibling inputs"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   3. Iteration: \"For each X, do Y\"  loop with <* marker"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   4. Conditional: \"If X then Y\"  timing gate with <* condition"
        },
        {
          "flow_index": "1.16.3.4.1.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/:   5. Grouping: \"Bundle A, B, C\"  collect into structured output"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.4.1.2.2",
        "type": "main",
        "depth": 6,
        "nc_main": "<- {current operation}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "current operation",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.1.2.2",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.1.2.2",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.16.3.4.1.2.3",
        "type": "main",
        "depth": 6,
        "nc_main": "<- {operation context}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "operation context",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.1.2.3",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.1.2.3",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.16.3.4.1.2.3",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.4.1.2.3",
      "type": "main",
      "depth": 6,
      "nc_main": "<- {operation context}<:{2}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "operation context",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1.2.3",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.16.3.4.1.2.3",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.16.3.4.1.2.3",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{ref_element}: dict"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.4.1.2.3.1",
      "type": "main",
      "depth": 7,
      "nc_main": "<= ::(gather context from extraction data)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "gather context from extraction data",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.1.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.16.3.4.1.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.16.3.4.1.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_3/gather_operation_context.md"
        },
        {
          "flow_index": "1.16.3.4.1.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.16.3.4.1.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.16.3.4.1.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "/: PREPARATION: Pull relevant context for this operation"
        },
        {
          "flow_index": "1.16.3.4.1.2.3.1",
          "type": "comment",
          "depth": 8,
          "nc_comment": "/: Context = which concepts it touches, what dependencies involve it"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.4.1.2.3.2",
        "type": "main",
        "depth": 7,
        "nc_main": "<- {current operation}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "current operation",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.1.2.3.2",
            "type": "comment",
            "depth": 8,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.1.2.3.2",
            "type": "comment",
            "depth": 8,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.16.3.4.1.2.3.3",
        "type": "main",
        "depth": 7,
        "nc_main": "<- {extraction data}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction data",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.1.2.3.3",
            "type": "comment",
            "depth": 8,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.1.2.3.3",
            "type": "comment",
            "depth": 8,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.4.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- [extracted operations]",
      "inference_marker": "<-",
      "concept_type": "relation",
      "operator_type": null,
      "concept_name": "extracted operations",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [operation]"
        },
        {
          "flow_index": "1.16.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (n_operation,)"
        },
        {
          "flow_index": "1.16.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.4.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(get operations from extraction data)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "get operations from extraction data",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Literal"
        },
        {
          "flow_index": "1.16.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.16.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/extract_field.py"
        },
        {
          "flow_index": "1.16.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_function_name}: extract_field"
        },
        {
          "flow_index": "1.16.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.16.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.16.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: DATA ACCESS: Get the list of operations to iterate over"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.4.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {extraction data}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction data",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      },
      {
        "flow_index": "1.16.3.4.2.3",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {field_name: \"operations\"}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "field_name: \"operations\"",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.2.3",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.2.3",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.16.3.4.2.3",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{literal<$% field_name>}: operations"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.16.3.4.2.2",
      "type": "main",
      "depth": 5,
      "nc_main": "<- {extraction data}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "extraction data",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.2.2",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.16.3.4.2.2",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{ref_element}: dict"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.16.3.4.2.2.1",
      "type": "main",
      "depth": 6,
      "nc_main": "<= ::(read extraction file from path)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read extraction file from path",
      "attached_comments": [
        {
          "flow_index": "1.16.3.4.2.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.16.3.4.2.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.16.3.4.2.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.16.3.4.2.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.16.3.4.2.2.1",
          "type": "comment",
          "depth": 7,
          "nc_comment": "/: FILE I/O: Load Phase 2 output"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.16.3.4.2.2.2",
        "type": "main",
        "depth": 6,
        "nc_main": "<- {extraction file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction file path",
        "attached_comments": [
          {
            "flow_index": "1.16.3.4.2.2.2",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.16.3.4.2.2.2",
            "type": "comment",
            "depth": 7,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.17",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {phase 3 complete}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "phase 3 complete",
      "attached_comments": [
        {
          "flow_index": "1.17",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.17",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.17",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.17.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write phase 3 status to progress file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write phase 3 status to progress file",
      "attached_comments": [
        {
          "flow_index": "1.17.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.17.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.17.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.17.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{write_mode}: append"
        },
        {
          "flow_index": "1.17.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: CHECKPOINT: Mark Phase 3 done"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.17.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.17.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.17.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.17.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {classifications file written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications file written",
        "attached_comments": [
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PHASE 4: TREE CONSTRUCTION"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PURPOSE: Build the hierarchical dependency structure"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: Per derivation.md Step 4:"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   \"Start with final output (root)\""
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   \"For each concept, add its operation as child\""
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   \"For each operation, add its inputs as children\""
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   \"Recurse until all concepts placed\""
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.17.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: This is the STRUCTURE step - arranging pieces into a tree"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {tree file written}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "tree file written",
      "attached_comments": [
        {
          "flow_index": "1.18",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write dependency tree to checkpoint file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write dependency tree to checkpoint file",
      "attached_comments": [
        {
          "flow_index": "1.18.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.18.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.18.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.18.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{serialize}: json"
        },
        {
          "flow_index": "1.18.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: FILE I/O: Save tree for Phase 5"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {tree file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "tree file path",
        "attached_comments": [
          {
            "flow_index": "1.18.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.18.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {tree to be written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "tree to be written",
        "attached_comments": [
          {
            "flow_index": "1.18.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: dict(root: str, nodes: dict)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3",
      "type": "main",
      "depth": 2,
      "nc_main": "<- {tree to be written}<:{2}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "tree to be written",
      "attached_comments": [
        {
          "flow_index": "1.18.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_element}: dict(root: str, nodes: dict)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.1",
      "type": "main",
      "depth": 3,
      "nc_main": "<= $. %>({tree to be written})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.18.3.1",
          "type": "comment",
          "depth": 4,
          "nc_comment": "/: SELECTION: Cache or compute pattern"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.2",
        "type": "main",
        "depth": 3,
        "nc_main": "<- <phase 4 already complete>",
        "inference_marker": "<-",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 4 already complete",
        "attached_comments": [
          {
            "flow_index": "1.18.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: %{truth_value}"
          }
        ]
      },
      {
        "flow_index": "1.18.3.3",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {cached dependency tree}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "cached dependency tree",
        "attached_comments": [
          {
            "flow_index": "1.18.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: dict(root: str, nodes: dict)"
          }
        ]
      },
      {
        "flow_index": "1.18.3.4",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {freshly constructed tree}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "freshly constructed tree",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: dict(root: str, nodes: dict)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.2",
      "type": "main",
      "depth": 3,
      "nc_main": "<- <phase 4 already complete>",
      "inference_marker": "<-",
      "concept_type": "proposition",
      "operator_type": null,
      "concept_name": "phase 4 already complete",
      "attached_comments": [
        {
          "flow_index": "1.18.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: %{truth_value}"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.2.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::<{check if phase 4 already complete in progress}><ALL True>",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.18.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Boolean"
        },
        {
          "flow_index": "1.18.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.18.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/check_phase_complete.py"
        },
        {
          "flow_index": "1.18.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_function_name}: check_phase_complete"
        },
        {
          "flow_index": "1.18.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.18.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.18.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: RESUME CHECK"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.2.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {current progress}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "current progress",
        "attached_comments": [
          {
            "flow_index": "1.18.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.18.3.2.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {phase_name: \"phase_4\"}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase_name: \"phase_4\"",
        "attached_comments": [
          {
            "flow_index": "1.18.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.18.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{literal<$% phase_name>}: phase_4"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.2.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {current progress}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "current progress",
      "attached_comments": [
        {
          "flow_index": "1.18.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.2.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read progress from file if exists)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read progress from file if exists",
      "attached_comments": [
        {
          "flow_index": "1.18.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFileIfExists-o_Literal"
        },
        {
          "flow_index": "1.18.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.18.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.2.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.18.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.3",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {cached dependency tree}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "cached dependency tree",
      "attached_comments": [
        {
          "flow_index": "1.18.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: dict(root: str, nodes: dict)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read dependency tree from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read dependency tree from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.3.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {tree file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "tree file path",
        "attached_comments": [
          {
            "flow_index": "1.18.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read dependency tree from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read dependency tree from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.18.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.3.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:'(<phase 4 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.18.3.3.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase already complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.18.3.3.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 4 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 4 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.4",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {freshly constructed tree}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "freshly constructed tree",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: dict(root: str, nodes: dict)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(construct tree from classifications and extractions)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "construct tree from classifications and extractions",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_4/construct_dependency_tree.md"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: LLM/ALGORITHMIC: Build the dependency tree"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#step-4-build-hierarchical-structure\","
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#the-derivation-algorithm\","
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#worked-example\""
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CONTEXT NEEDED: Tree construction algorithm"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   1. Start with final output concept as root"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   2. Find operation that produces it  add as child (<=)"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   3. Find inputs to that operation  add as grandchildren (<-)"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   4. For each input with a producing operation  recurse"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   5. Stop when reaching ground concepts (external inputs)"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   6. Add <* markers for loop contexts and conditions"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.4.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {classifications data}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications data",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      },
      {
        "flow_index": "1.18.3.4.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {extraction data}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction data",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3.4.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      },
      {
        "flow_index": "1.18.3.4.4",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {final output concept}<:{3}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "final output concept",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3.4.4",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.18.3.4.5",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {classified operations}<:{4}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classified operations",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.5",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.5",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.18.3.4.5",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      },
      {
        "flow_index": "1.18.3.4.6",
        "type": "main",
        "depth": 4,
        "nc_main": "<- [all dependencies]<:{5}>",
        "inference_marker": "<-",
        "concept_type": "relation",
        "operator_type": null,
        "concept_name": "all dependencies",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.6",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [dependency]"
          },
          {
            "flow_index": "1.18.3.4.6",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (n_dependency,)"
          },
          {
            "flow_index": "1.18.3.4.6",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: dict(source: str, target: str)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(construct tree from classifications and extractions)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "construct tree from classifications and extractions",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_4/construct_dependency_tree.md"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: LLM/ALGORITHMIC: Build the dependency tree"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#step-4-build-hierarchical-structure\","
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#the-derivation-algorithm\","
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#worked-example\""
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CONTEXT NEEDED: Tree construction algorithm"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   1. Start with final output concept as root"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   2. Find operation that produces it  add as child (<=)"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   3. Find inputs to that operation  add as grandchildren (<-)"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   4. For each input with a producing operation  recurse"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   5. Stop when reaching ground concepts (external inputs)"
        },
        {
          "flow_index": "1.18.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   6. Add <* markers for loop contexts and conditions"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.4.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:!(<phase 4 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase NOT complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.18.3.4.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 4 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 4 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.4.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {classifications data}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "classifications data",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: dict"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.4.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read classifications file from path)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read classifications file from path",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.18.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.18.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.18.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.18.3.4.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: FILE I/O: Load Phase 3 output (pattern types)"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.4.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {classifications file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications file path",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.4.3",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {extraction data}<:{2}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "extraction data",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3.4.3",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: dict"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.4.3.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read extraction file from path)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read extraction file from path",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.18.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.18.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.18.3.4.3.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.18.3.4.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: FILE I/O: Load Phase 2 output (raw materials)"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.4.3.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {extraction file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction file path",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.3.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.3.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.4.4",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {final output concept}<:{3}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "final output concept",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3.4.4",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.4.4.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(identify goal from extraction data)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "identify goal from extraction data",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_4/identify_goal.md"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: LLM IDENTIFICATION: What is the FINAL OUTPUT of this instruction?"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/derivation_v2.md#step-1-identify-the-goal\","
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#strategy-1-top-down-goal-oriented\""
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: CONTEXT NEEDED: How to identify the goal"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - The goal is the FINAL OUTPUT of the instruction"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Look for: \"produce X\", \"generate Y\", \"return Z\""
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - This becomes the ROOT of the tree"
        },
        {
          "flow_index": "1.18.3.4.4.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/:   - Example: \"generate a summary\"  root is \"{summary}\""
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.4.4.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {extraction data}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction data",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.4.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.4.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.4.5",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {classified operations}<:{4}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "classified operations",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.5",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.18.3.4.5",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.18.3.4.5",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: dict"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.4.5.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(get classifications from classifications data)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "get classifications from classifications data",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Literal"
        },
        {
          "flow_index": "1.18.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.18.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/pass_through.py"
        },
        {
          "flow_index": "1.18.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_function_name}: pass_through"
        },
        {
          "flow_index": "1.18.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.18.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.18.3.4.5.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: DATA ACCESS: Get operation  pattern_type mappings"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.4.5.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {classifications data}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "classifications data",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.5.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.5.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.18.3.4.6",
      "type": "main",
      "depth": 4,
      "nc_main": "<- [all dependencies]<:{5}>",
      "inference_marker": "<-",
      "concept_type": "relation",
      "operator_type": null,
      "concept_name": "all dependencies",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.6",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [dependency]"
        },
        {
          "flow_index": "1.18.3.4.6",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (n_dependency,)"
        },
        {
          "flow_index": "1.18.3.4.6",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: dict(source: str, target: str)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.18.3.4.6.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(extract dependencies from extraction data)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "extract dependencies from extraction data",
      "attached_comments": [
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Literal"
        },
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/extract_field.py"
        },
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{v_function_name}: extract_field"
        },
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: DATA ACCESS: Get the dependency relationships"
        },
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: Format: [{source: X, target: Y, type: \"produces\""
        },
        {
          "flow_index": "1.18.3.4.6.1",
          "type": "inline_comment",
          "depth": 6,
          "nc_comment": "\"feeds_into\"}, ...]"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.18.3.4.6.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {extraction data}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "extraction data",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.6.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.6.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: dict"
          }
        ]
      },
      {
        "flow_index": "1.18.3.4.6.3",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {field_name: \"dependencies\"}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "field_name: \"dependencies\"",
        "attached_comments": [
          {
            "flow_index": "1.18.3.4.6.3",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.18.3.4.6.3",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.18.3.4.6.3",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{literal<$% field_name>}: dependencies"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.19",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {phase 4 complete}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "phase 4 complete",
      "attached_comments": [
        {
          "flow_index": "1.19",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.19",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.19",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.19.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write phase 4 status to progress file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write phase 4 status to progress file",
      "attached_comments": [
        {
          "flow_index": "1.19.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.19.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.19.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.19.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{write_mode}: append"
        },
        {
          "flow_index": "1.19.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: CHECKPOINT: Mark Phase 4 done"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.19.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.19.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.19.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.19.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {tree file written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "tree file written",
        "attached_comments": [
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PHASE 5: SERIALIZATION"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: PURPOSE: Convert internal tree structure to .ncds text format"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: Per derivation.md format:"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - <- for value concepts (data)"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - <= for functional concepts (operations)"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - <* for context concepts (loop base, conditions)"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - 4-space indentation for hierarchy"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:   - Root at level 0, children indented"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.19.3",
            "type": "comment",
            "depth": 1,
            "nc_comment": "/: This is OUTPUT formatting - tree  text"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {ncds output written}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "ncds output written",
      "attached_comments": [
        {
          "flow_index": "1.20",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.20",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.20",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write ncds file to output path)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write ncds file to output path",
      "attached_comments": [
        {
          "flow_index": "1.20.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.20.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.20.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.20.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: FILE I/O: Write the final .ncds file"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.20.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {output file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "output file path",
        "attached_comments": [
          {
            "flow_index": "1.20.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.20.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {ncds to be written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "ncds to be written",
        "attached_comments": [
          {
            "flow_index": "1.20.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.20.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20.3",
      "type": "main",
      "depth": 2,
      "nc_main": "<- {ncds to be written}<:{2}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "ncds to be written",
      "attached_comments": [
        {
          "flow_index": "1.20.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.20.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.20.3",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.3.1",
      "type": "main",
      "depth": 3,
      "nc_main": "<= $. %>({ncds to be written})",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "specification",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.20.3.1",
          "type": "comment",
          "depth": 4,
          "nc_comment": "/: SELECTION: Cache or compute pattern"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.20.3.2",
        "type": "main",
        "depth": 3,
        "nc_main": "<- <phase 5 already complete>",
        "inference_marker": "<-",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 5 already complete",
        "attached_comments": [
          {
            "flow_index": "1.20.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.20.3.2",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: %{truth_value}"
          }
        ]
      },
      {
        "flow_index": "1.20.3.3",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {cached ncds content}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "cached ncds content",
        "attached_comments": [
          {
            "flow_index": "1.20.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.20.3.3",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.20.3.4",
        "type": "main",
        "depth": 3,
        "nc_main": "<- {freshly serialized ncds}",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "freshly serialized ncds",
        "attached_comments": [
          {
            "flow_index": "1.20.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.20.3.4",
            "type": "comment",
            "depth": 4,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20.3.2",
      "type": "main",
      "depth": 3,
      "nc_main": "<- <phase 5 already complete>",
      "inference_marker": "<-",
      "concept_type": "proposition",
      "operator_type": null,
      "concept_name": "phase 5 already complete",
      "attached_comments": [
        {
          "flow_index": "1.20.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.20.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.20.3.2",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: %{truth_value}"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.3.2.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::<{check if phase 5 already complete in progress}><ALL True>",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.20.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_ScriptLocation-h_Literal-c_Execute-o_Boolean"
        },
        {
          "flow_index": "1.20.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: script_location"
        },
        {
          "flow_index": "1.20.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/scripts/check_phase_complete.py"
        },
        {
          "flow_index": "1.20.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_function_name}: check_phase_complete"
        },
        {
          "flow_index": "1.20.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.20.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: python_interpreter"
        },
        {
          "flow_index": "1.20.3.2.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: RESUME CHECK"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.20.3.2.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {current progress}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "current progress",
        "attached_comments": [
          {
            "flow_index": "1.20.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.20.3.2.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.20.3.2.3",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {phase_name: \"phase_5\"}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "phase_name: \"phase_5\"",
        "attached_comments": [
          {
            "flow_index": "1.20.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.20.3.2.3",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{literal<$% phase_name>}: phase_5"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20.3.2.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {current progress}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "current progress",
      "attached_comments": [
        {
          "flow_index": "1.20.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.20.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.20.3.2.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.3.2.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read progress from file if exists)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read progress from file if exists",
      "attached_comments": [
        {
          "flow_index": "1.20.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFileIfExists-o_Literal"
        },
        {
          "flow_index": "1.20.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.20.3.2.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.20.3.2.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.20.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.2.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20.3.3",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {cached ncds content}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "cached ncds content",
      "attached_comments": [
        {
          "flow_index": "1.20.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.20.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.20.3.3",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read ncds from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read ncds from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.20.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.20.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.20.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.20.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.20.3.3.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {output file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "output file path",
        "attached_comments": [
          {
            "flow_index": "1.20.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.3.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20.3.3.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(read ncds from checkpoint)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read ncds from checkpoint",
      "attached_comments": [
        {
          "flow_index": "1.20.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.20.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.20.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.20.3.3.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CACHE PATH"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.3.3.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:'(<phase 5 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.20.3.3.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase already complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.20.3.3.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 5 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 5 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20.3.4",
      "type": "main",
      "depth": 3,
      "nc_main": "<- {freshly serialized ncds}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "freshly serialized ncds",
      "attached_comments": [
        {
          "flow_index": "1.20.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.20.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.20.3.4",
          "type": "comment",
          "depth": 4,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(serialize dependency tree to ncds text format)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "serialize dependency tree to ncds text format",
      "attached_comments": [
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_5/serialize_tree_to_ncds.md"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: ALGORITHMIC/LLM: Convert tree JSON to .ncds text"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#the-ncds-format\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/00_simple_linear.ncds\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/02_multi_input.ncds\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/03_iteration.ncds\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/04_conditional.ncds\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/05_grouping.ncds\""
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CONTEXT NEEDED: .ncds format specification"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   Markers:"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     <- : Value concept (data/input/output)"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     <= : Functional concept (operation)"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     <* : Context concept (loop base, condition)"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   Structure:"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     - 4-space indentation per level"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     - Root at level 0"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     - Operation is first child of value"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     - Inputs are siblings after operation"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   Example:"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     <- final result"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:         <= compute from inputs"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:         <- input A"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:         <- input B"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.20.3.4.2",
        "type": "main",
        "depth": 4,
        "nc_main": "<- {dependency tree}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "dependency tree",
        "attached_comments": [
          {
            "flow_index": "1.20.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_shape}: (1,)"
          },
          {
            "flow_index": "1.20.3.4.2",
            "type": "comment",
            "depth": 5,
            "nc_comment": "| %{ref_element}: dict(root: str, nodes: dict)"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20.3.4.1",
      "type": "main",
      "depth": 4,
      "nc_main": "<= ::(serialize dependency tree to ncds text format)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "serialize dependency tree to ncds text format",
      "attached_comments": [
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{norm_input}: v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_norm}: prompt_location"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{v_input_provision}: provisions/prompts/phase_5/serialize_tree_to_ncds.md"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{h_input_norm}: Literal"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{body_faculty}: llm"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: ALGORITHMIC/LLM: Convert tree JSON to .ncds text"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: %{cue_files}: ["
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/derivation.md#the-ncds-format\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/00_simple_linear.ncds\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/02_multi_input.ncds\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/03_iteration.ncds\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/04_conditional.ncds\","
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   \"documentation/current/4_compilation/examples/ncds/05_grouping.ncds\""
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: ]"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/: CONTEXT NEEDED: .ncds format specification"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   Markers:"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     <- : Value concept (data/input/output)"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     <= : Functional concept (operation)"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     <* : Context concept (loop base, condition)"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   Structure:"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     - 4-space indentation per level"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     - Root at level 0"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     - Operation is first child of value"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     - Inputs are siblings after operation"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:   Example:"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:     <- final result"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:         <= compute from inputs"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:         <- input A"
        },
        {
          "flow_index": "1.20.3.4.1",
          "type": "comment",
          "depth": 5,
          "nc_comment": "/:         <- input B"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.3.4.1.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= @:!(<phase 5 already complete>)",
      "inference_marker": "<=",
      "concept_type": "operator",
      "operator_type": "timing_conditional",
      "concept_name": null,
      "attached_comments": [
        {
          "flow_index": "1.20.3.4.1.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: TIMING GATE: Only execute if phase NOT complete"
        }
      ]
    },
    "value_concepts": [],
    "other_concepts": [
      {
        "flow_index": "1.20.3.4.1.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<* <phase 5 already complete>",
        "inference_marker": "<*",
        "concept_type": "proposition",
        "operator_type": null,
        "concept_name": "phase 5 already complete",
        "attached_comments": []
      }
    ]
  },
  {
    "concept_to_infer": {
      "flow_index": "1.20.3.4.2",
      "type": "main",
      "depth": 4,
      "nc_main": "<- {dependency tree}<:{1}>",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "dependency tree",
      "attached_comments": [
        {
          "flow_index": "1.20.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.20.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.20.3.4.2",
          "type": "comment",
          "depth": 5,
          "nc_comment": "| %{ref_element}: dict(root: str, nodes: dict)"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.20.3.4.2.1",
      "type": "main",
      "depth": 5,
      "nc_main": "<= ::(read dependency tree file from path)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "read dependency tree file from path",
      "attached_comments": [
        {
          "flow_index": "1.20.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{norm_input}: h_LiteralPath-c_ReadFile-o_Literal"
        },
        {
          "flow_index": "1.20.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{h_input_norm}: LiteralPath"
        },
        {
          "flow_index": "1.20.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.20.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "| %{parse}: json"
        },
        {
          "flow_index": "1.20.3.4.2.1",
          "type": "comment",
          "depth": 6,
          "nc_comment": "/: FILE I/O: Load Phase 4 output (the tree structure)"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.20.3.4.2.2",
        "type": "main",
        "depth": 5,
        "nc_main": "<- {tree file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "tree file path",
        "attached_comments": [
          {
            "flow_index": "1.20.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.20.3.4.2.2",
            "type": "comment",
            "depth": 6,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      }
    ],
    "other_concepts": []
  },
  {
    "concept_to_infer": {
      "flow_index": "1.21",
      "type": "main",
      "depth": 1,
      "nc_main": "<- {phase 5 complete}",
      "inference_marker": "<-",
      "concept_type": "object",
      "operator_type": null,
      "concept_name": "phase 5 complete",
      "attached_comments": [
        {
          "flow_index": "1.21",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_axes}: [_none_axis]"
        },
        {
          "flow_index": "1.21",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_shape}: (1,)"
        },
        {
          "flow_index": "1.21",
          "type": "comment",
          "depth": 2,
          "nc_comment": "| %{ref_element}: str"
        }
      ]
    },
    "function_concept": {
      "flow_index": "1.21.1",
      "type": "main",
      "depth": 2,
      "nc_main": "<= ::(write phase 5 status to progress file)",
      "inference_marker": "<=",
      "concept_type": "imperative",
      "operator_type": null,
      "concept_name": "write phase 5 status to progress file",
      "attached_comments": [
        {
          "flow_index": "1.21.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{norm_input}: h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
        },
        {
          "flow_index": "1.21.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{h_input_norm}: LiteralPath, Literal"
        },
        {
          "flow_index": "1.21.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{body_faculty}: file_system"
        },
        {
          "flow_index": "1.21.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "| %{write_mode}: append"
        },
        {
          "flow_index": "1.21.1",
          "type": "comment",
          "depth": 3,
          "nc_comment": "/: CHECKPOINT: Mark Phase 5 done (derivation complete!)"
        }
      ]
    },
    "value_concepts": [
      {
        "flow_index": "1.21.2",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {progress file path}<:{1}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "progress file path",
        "attached_comments": [
          {
            "flow_index": "1.21.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.21.2",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          }
        ]
      },
      {
        "flow_index": "1.21.3",
        "type": "main",
        "depth": 2,
        "nc_main": "<- {ncds output written}<:{2}>",
        "inference_marker": "<-",
        "concept_type": "object",
        "operator_type": null,
        "concept_name": "ncds output written",
        "attached_comments": [
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_axes}: [_none_axis]"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 3,
            "nc_comment": "| %{ref_element}: str"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: SUMMARY: How Operations Work Together"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: DERIVATION CORE (per documentation):"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   Phase 2: EXTRACT  concepts, operations, dependencies, patterns"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   Phase 4: STRUCTURE  build dependency tree"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   Phase 5: OUTPUT  serialize to .ncds"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: ENHANCEMENTS (operational):"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   Phase 1: PRE-PROCESS  handle vague instructions"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   Phase 3: CLASSIFY  label operations with pattern types"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   All phases: CHECKPOINT  enable resume on failure"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: DATA FLOW:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   instruction.txt"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:      [refine if vague]"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:      extract {concepts, operations, dependencies, patterns}"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:      classify each operation"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:      construct dependency tree"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:      serialize to .ncds"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:      ncds_output.ncds"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: RESUME PATTERN (repeated 5x):"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   1. Check if phase already complete"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   2. If yes  read cached result"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   3. If no  compute fresh result"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   4. Write result to checkpoint"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   5. Update progress tracker"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: PARADIGM SET USED:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   File System (3):"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - h_LiteralPath-c_ReadFile-o_Literal"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - h_LiteralPath-c_ReadFileIfExists-o_Literal"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - h_LiteralPath-h_Literal-c_WriteFile-o_Literal"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   LLM (2):"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Literal"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - v_PromptLocation-h_Literal-c_GenerateThinkJson-o_Boolean"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   Python (2):"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - v_ScriptLocation-h_Literal-c_Execute-o_Literal"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - v_ScriptLocation-h_Literal-c_Execute-o_Boolean"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: CUE FILES SUMMARY (for prompt writing)"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: ========================================"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: PHASE 1 - REFINEMENT:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   judge if instruction lacks concrete details:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#before-derivation-instruction-refinement"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation.md#the-derivation-problem"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   apply each refinement question:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#the-refinement-questions"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   synthesize from refinement answers:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#the-refinement-process"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#rules-of-thumb-for-paraphrasing"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: PHASE 2 - EXTRACTION:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   identify all nouns and data entities:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation.md#step-1-identify-concepts"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - semantic_concepts.md#object"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - semantic_concepts.md#relation"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   identify all verbs and actions:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation.md#step-2-identify-operations"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - semantic_concepts.md#imperative"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - semantic_concepts.md#judgement"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   identify what needs what:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation.md#step-3-determine-dependencies"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#the-derivation-question"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   identify loops and conditions:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#the-five-core-patterns"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - README.md#loop-patterns"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - README.md#control-flow-patterns"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: PHASE 3 - CLASSIFICATION:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   determine pattern type for operation:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#the-five-core-patterns"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - README.md#pattern-reference"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation.md#derivation-takeaways-lessons-from-examples"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: PHASE 4 - TREE CONSTRUCTION:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   identify goal from extraction data:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#step-1-identify-the-goal"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation.md#strategy-1-top-down-goal-oriented"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   construct tree from classifications and extractions:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation.md#step-4-build-hierarchical-structure"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#the-derivation-algorithm"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation_v2.md#worked-example"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/: PHASE 5 - SERIALIZATION:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:   serialize dependency tree to ncds text format:"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - derivation.md#the-ncds-format"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:     - EXAMPLES: 00_simple_linear.ncds, 02_multi_input.ncds,"
          },
          {
            "flow_index": "1.21.3",
            "type": "comment",
            "depth": 0,
            "nc_comment": "/:       03_iteration.ncds, 04_conditional.ncds, 05_grouping.ncds"
          }
        ]
      }
    ],
    "other_concepts": []
  }
]