## Step 3.2: Apply Redirection Patterns

This step was crucial for making the data flow of the pipeline explicit. The goal was to define the precise inputs for every imperative.

-   **Explicit Inputs**: Each imperative was detailed to show its dependencies, which were categorized as:
    -   **Prompts**: Inputs sourced from a prompt file, identified with a `<:{prompt}>` tag and a `%{prompt_location}` annotation.
    -   **Inherited Outputs**: Inputs that were the direct result of a previous step in the pipeline.
    -   **File Inputs**: Inputs sourced directly from files on disk, which can be static (like the original prompt) or discovered dynamically.

An example of a redirected imperative that dynamically discovers context files:

```normcode
<- {1.1_instruction_block.md}
    <= ::{%(direct)}({prompt}<$({instruction distillation prompt})%>: {1}<$({input files})%>)
    <- {instruction distillation prompt}<:{prompt}>
        |%{prompt_location}: 1.1_instruction_distillation.md
    <- {input files}<:{1}>
        <= &in
        <- {original prompt}
            |%{file_location}: prompts/0_original_prompt.md
        <- {other input files}
            <= :>:{%(file_location)}({prompt}<$({location of related files prompt})%>)
            <- {location of related files}<:{prompt}>
                |%{prompt_location}: location_of_related_files_prompt.md
```

This process made the plan's dependencies transparent and prepared it for formalization.
