### Step 1.3: Manual Review of Instruction and Context

**Objective:** To meticulously review and refine the outputs of the automated instruction distillation and context registration steps, ensuring they are accurate, complete, and logically sound before proceeding to the deconstruction phase.

**Procedure:**

1.  **Examine `1.1_instruction_block.md`:**
    *   **Clarity and Accuracy:** Verify that the distilled instruction is clear, unambiguous, and faithfully represents the core procedural intent of the original user prompt.
    *   **Completeness:** Ensure that all critical procedural steps from the original prompt have been captured. For example, a multi-step workflow should be fully represented.
    *   **Exclusion of Non-Procedural Information:** Confirm that conversational filler, metadata, and non-procedural constraints (e.g., "only happens outside of peak hours") have been correctly excluded from the instruction block. This information should be registered as context instead.
    *   **Corrections:** Edit the file directly to correct any misinterpretations, add necessary clarifications, or improve the logical flow.

2.  **Examine `1.2_initial_context_registerd.json`:** (This is a JSON file that contains the context manifest)
    *   **Manifest Completeness:** Confirm that all authoritative documents and key contextual details mentioned in the original prompt are registered in the JSON manifest.
    *   **File References:** Check that each `file_reference` points to the correct file within the `context_store` and that all referenced files exist.
    *   **Description Accuracy:** Ensure that the `title` and `description` for each entry accurately summarize the purpose and content of the referenced document.
    *   **Context Store Integrity:** Briefly check the `context_store` directory to ensure it contains copies of all the documents listed in the manifest.

**Outcome:** A validated and refined instruction block and context manifest that together provide a solid and accurate foundation for the subsequent deconstruction phase.
---
# The NormCode AI Planning Pipeline

## Project Goal

The project goal is to bootstrap from a high-level natural language prompt into a structured and executable plan using a meta-algorithmic pipeline. This pipeline, itself powered by a NormCode plan, methodically transforms an instruction by:

1.  **Distilling** the user's intent into a clean instruction and registering all raw context.
2.  **Deconstructing** the instruction into a formal, hierarchical NormCode plan (`.ncd`).
3.  **Contextualizing** the plan by enriching each formal step with precise, granular context.
4.  **Materializing** the final plan into an executable script, ready for an orchestrator.

This creates a system that can understand, decompose, contextualize, and act upon complex instructions in a transparent and repeatable manner.

## Core Inputs

Each iteration of the pipeline begins with two primary markdown files that define the scope and methodology of the task:

-   **`prompts/0_original_prompt.md`**: This file contains the high-level goal that is the target of the decomposition process. It defines the "what" that the pipeline needs to accomplish.
-   **`_meta_pipeline_prompt.md`**: This file documents the methodology used to bootstrap the entire process. It defines the "how" the decomposition and planning will be executed.

For the purpose of this project, these two files are kept synchronized and are updated dynamically through manual modifications to reflect the most current practices and understanding of the pipeline itself.

## The Four-Phase Pipeline

The pipeline is divided into four distinct phases, each with a specific objective:

1.  **Phase 1: Confirmation of Instruction**: Transforms the initial, conversational user prompt into a set of clean, structured inputs (an `Instruction Block` and a `Context Manifest`). This phase includes an opportunity for manual review to ensure accuracy.

2.  **Phase 2: Deconstruction into NormCode Plan**: Translates the clean `Instruction Block` into a semi-formal NormCode Draft (`.ncd`). This draft represents the logical structure of the plan and is designed for human review.

3.  **Phase 3: Contextualization and Plan Formalization**: Enriches the plan with specific, relevant context. It converts the `.ncd` draft into a formal `.nc` file with unique identifiers (`flow_index`) for each step and distributes context from a `context_store` to each of those steps.

4.  **Phase 4: Materialization into an Executable Script**: Translates the final, formalized `.nc` plan and its context map into a runnable Python script, ready for execution by an `Orchestrator`.

This structured, phased approach ensures that a high-level, ambiguous instruction can be methodically transformed into a precise, executable, and context-aware plan.
